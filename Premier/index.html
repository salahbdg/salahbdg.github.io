<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fonctions - Quiz Interactif Premi√®re</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .container {
        background: white;
        border-radius: 20px;
        padding: 40px;
        max-width: 900px;
        width: 100%;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      h1 {
        color: #667eea;
        text-align: center;
        margin-bottom: 10px;
        font-size: 2.5em;
      }

      .subtitle {
        text-align: center;
        color: #666;
        margin-bottom: 30px;
        font-size: 1.1em;
      }

      .score-board {
        display: flex;
        justify-content: space-around;
        margin-bottom: 30px;
        padding: 20px;
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        border-radius: 15px;
        color: white;
      }

      .score-item {
        text-align: center;
      }

      .score-number {
        font-size: 2em;
        font-weight: bold;
      }

      .menu {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .menu-btn {
        padding: 30px 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: 15px;
        font-size: 1.2em;
        cursor: pointer;
        transition: all 0.3s;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .menu-btn:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      }

      .quiz-container {
        display: none;
      }

      .quiz-container.active {
        display: block;
      }

      .question-card {
        background: #f8f9ff;
        padding: 30px;
        border-radius: 15px;
        margin-bottom: 20px;
        border-left: 5px solid #667eea;
      }

      .question-text {
        font-size: 1.3em;
        margin-bottom: 20px;
        color: #333;
      }

      .options {
        display: grid;
        gap: 15px;
      }

      .option-btn {
        padding: 20px;
        background: white;
        border: 2px solid #ddd;
        border-radius: 10px;
        font-size: 1.1em;
        cursor: pointer;
        transition: all 0.3s;
        text-align: left;
      }

      .option-btn:hover {
        border-color: #667eea;
        background: #f0f4ff;
        transform: translateX(5px);
      }

      .option-btn.correct {
        background: #4ade80;
        color: white;
        border-color: #22c55e;
      }

      .option-btn.incorrect {
        background: #f87171;
        color: white;
        border-color: #ef4444;
      }

      .option-btn:disabled {
        cursor: not-allowed;
      }

      .feedback {
        margin-top: 20px;
        padding: 20px;
        border-radius: 10px;
        font-size: 1.1em;
        display: none;
      }

      .feedback.show {
        display: block;
      }

      .feedback.correct {
        background: #d1fae5;
        color: #065f46;
        border-left: 5px solid #10b981;
      }

      .feedback.incorrect {
        background: #fee2e2;
        color: #991b1b;
        border-left: 5px solid #ef4444;
      }

      .nav-buttons {
        display: flex;
        gap: 15px;
        margin-top: 30px;
      }

      .nav-btn {
        flex: 1;
        padding: 15px;
        border: none;
        border-radius: 10px;
        font-size: 1.1em;
        cursor: pointer;
        transition: all 0.3s;
      }

      .back-btn {
        background: #e5e7eb;
        color: #374151;
      }

      .next-btn {
        background: #667eea;
        color: white;
      }

      .nav-btn:hover {
        transform: scale(1.05);
      }

      .nav-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
      }

      .progress {
        margin-bottom: 20px;
        text-align: center;
        font-size: 1.1em;
        color: #667eea;
        font-weight: bold;
      }

      .celebration {
        text-align: center;
        padding: 40px;
        display: none;
      }

      .celebration.show {
        display: block;
      }

      .celebration-emoji {
        font-size: 5em;
        margin-bottom: 20px;
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      .bounce {
        animation: bounce 1s infinite;
      }

      .theory-box {
        background: #f0f9ff;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        border-left: 5px solid #0ea5e9;
      }

      .theory-box h3 {
        color: #0369a1;
        margin-bottom: 10px;
      }

      .formula {
        background: white;
        padding: 15px;
        border-radius: 8px;
        margin: 10px 0;
        font-family: "Courier New", monospace;
        font-size: 1.1em;
        text-align: center;
        border: 2px dashed #667eea;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üéÆ Fonctions en Premi√®re</h1>
      <p class="subtitle">Apprends en t'amusant !</p>

      <div class="score-board">
        <div class="score-item">
          <div class="score-number" id="score">0</div>
          <div>Points</div>
        </div>
        <div class="score-item">
          <div class="score-number" id="streak">0</div>
          <div>S√©rie</div>
        </div>
        <div class="score-item">
          <div class="score-number" id="total">0</div>
          <div>Questions</div>
        </div>
      </div>

      <div id="menu" class="menu">
        <button class="menu-btn" onclick="startQuiz('generalites')">
          üìö G√©n√©ralit√©s
        </button>
        <button class="menu-btn" onclick="startQuiz('second-degre')">
          üìà Second Degr√©
        </button>
        <button class="menu-btn" onclick="startQuiz('derivation')">
          üìä D√©rivation
        </button>
        <button class="menu-btn" onclick="startQuiz('exponentielles')">
          üöÄ Exponentielles
        </button>
      </div>

      <div id="quiz" class="quiz-container">
        <div class="progress" id="progress"></div>
        <div id="question-container"></div>
        <div class="nav-buttons">
          <button class="nav-btn back-btn" onclick="backToMenu()">
            ‚Üê Retour
          </button>
          <button
            class="nav-btn next-btn"
            id="next-btn"
            onclick="nextQuestion()"
            disabled
          >
            Suivant ‚Üí
          </button>
        </div>
      </div>

      <div id="celebration" class="celebration">
        <div class="celebration-emoji bounce">üéâ</div>
        <h2>Bravo ! Quiz termin√© !</h2>
        <p style="font-size: 1.3em; margin: 20px 0">
          Tu as obtenu <span id="final-score"></span> points !
        </p>
        <button class="menu-btn" onclick="backToMenu()">Retour au menu</button>
      </div>
    </div>

    <script>
      let score = 0;
      let streak = 0;
      let totalQuestions = 0;
      let currentQuiz = [];
      let currentQuestionIndex = 0;

      const quizzes = {
        generalites: [
          {
            question: "Quelle est la d√©finition d'une fonction ?",
            options: [
              "Un proc√©d√© qui associe √† chaque nombre x un unique nombre f(x)",
              "Une suite de nombres al√©atoires",
              "Une √©quation avec deux inconnues",
              "Un graphique dans un rep√®re",
            ],
            correct: 0,
            explanation:
              "Une fonction est un proc√©d√© qui associe √† chaque √©l√©ment x d'un ensemble de d√©part (domaine) un unique √©l√©ment f(x) d'un ensemble d'arriv√©e.",
          },
          {
            question: "Quel est l'ensemble de d√©finition de f(x) = 1/x ?",
            options: ["‚Ñù", "‚Ñù*", "‚Ñù+", "[0; +‚àû["],
            correct: 1,
            explanation:
              "La fonction f(x) = 1/x est d√©finie pour tous les r√©els sauf 0, car on ne peut pas diviser par z√©ro. Donc Df = ‚Ñù* = ‚Ñù \\ {0}",
          },
          {
            question: "Si f(x) = 2x + 3, que vaut f(5) ?",
            options: ["10", "13", "8", "15"],
            correct: 1,
            explanation:
              "f(5) = 2√ó5 + 3 = 10 + 3 = 13. On remplace simplement x par 5 dans l'expression.",
          },
          {
            question: "Une fonction est paire si :",
            options: [
              "f(-x) = f(x) pour tout x",
              "f(-x) = -f(x) pour tout x",
              "f(x) = 2x",
              "f(x) est toujours positive",
            ],
            correct: 0,
            explanation:
              "Une fonction paire v√©rifie f(-x) = f(x). Son graphe est sym√©trique par rapport √† l'axe des ordonn√©es. Exemple : f(x) = x¬≤",
          },
          {
            question: "Une fonction est impaire si :",
            options: [
              "f(-x) = f(x) pour tout x",
              "f(-x) = -f(x) pour tout x",
              "f(x) est un nombre impair",
              "Elle n'est pas d√©finie en 0",
            ],
            correct: 1,
            explanation:
              "Une fonction impaire v√©rifie f(-x) = -f(x). Son graphe est sym√©trique par rapport √† l'origine. Exemple : f(x) = x¬≥",
          },
          {
            question: "Quelle est l'image de 2 par la fonction f(x) = x¬≤ - 1 ?",
            options: ["3", "4", "5", "2"],
            correct: 0,
            explanation: "L'image de 2 est f(2) = 2¬≤ - 1 = 4 - 1 = 3",
          },
        ],
        "second-degre": [
          {
            question: "Quelle est la forme canonique de f(x) = ax¬≤ + bx + c ?",
            options: [
              "a(x - Œ±)¬≤ + Œ≤",
              "ax¬≤ + bx + c",
              "a(x - x‚ÇÅ)(x - x‚ÇÇ)",
              "ax(x + b)",
            ],
            correct: 0,
            explanation:
              "La forme canonique est f(x) = a(x - Œ±)¬≤ + Œ≤ o√π Œ± = -b/(2a) et Œ≤ = f(Œ±). Elle permet d'identifier le sommet de la parabole.",
          },
          {
            question: "Le discriminant Œî d'une √©quation ax¬≤ + bx + c = 0 est :",
            options: ["b¬≤ - 4ac", "b¬≤ + 4ac", "-b ¬± ‚àöb¬≤-4ac", "4ac - b¬≤"],
            correct: 0,
            explanation:
              "Le discriminant Œî = b¬≤ - 4ac permet de d√©terminer le nombre de solutions de l'√©quation.",
          },
          {
            question:
              "Si Œî > 0, combien de solutions a l'√©quation ax¬≤ + bx + c = 0 ?",
            options: ["0", "1", "2", "Une infinit√©"],
            correct: 2,
            explanation:
              "Si Œî > 0, l'√©quation a deux solutions distinctes : x‚ÇÅ = (-b - ‚àöŒî)/(2a) et x‚ÇÇ = (-b + ‚àöŒî)/(2a)",
          },
          {
            question:
              "Pour f(x) = x¬≤ - 4x + 3, quelle est l'abscisse du sommet ?",
            options: ["2", "-2", "4", "1"],
            correct: 0,
            explanation:
              "L'abscisse du sommet Œ± = -b/(2a) = -(-4)/(2√ó1) = 4/2 = 2",
          },
          {
            question: "Les solutions de x¬≤ - 5x + 6 = 0 sont :",
            options: ["2 et 3", "1 et 6", "-2 et -3", "5 et 1"],
            correct: 0,
            explanation:
              "Œî = 25 - 24 = 1, donc x‚ÇÅ = (5-1)/2 = 2 et x‚ÇÇ = (5+1)/2 = 3. On peut aussi factoriser : (x-2)(x-3) = 0",
          },
          {
            question: "Si a > 0, la parabole d'une fonction du second degr√© :",
            options: [
              "Est tourn√©e vers le haut",
              "Est tourn√©e vers le bas",
              "Est une droite",
              "N'a pas de minimum",
            ],
            correct: 0,
            explanation:
              "Si a > 0, la parabole est tourn√©e vers le haut (forme de U) et admet un minimum au sommet.",
          },
        ],
        derivation: [
          {
            question: "Quelle est la d√©riv√©e de f(x) = x¬≥ ?",
            options: ["3x¬≤", "x¬≤", "3x", "x¬≥/3"],
            correct: 0,
            explanation:
              "La d√©riv√©e de x‚Åø est n√óx‚Åø‚Åª¬π. Donc (x¬≥)' = 3√óx¬≥‚Åª¬π = 3x¬≤",
          },
          {
            question: "Quelle est la d√©riv√©e de f(x) = 5x + 2 ?",
            options: ["5", "5x", "7", "2"],
            correct: 0,
            explanation:
              "La d√©riv√©e d'une fonction affine ax + b est a. Donc (5x + 2)' = 5",
          },
          {
            question: "Si f'(x) > 0 sur un intervalle, alors f est :",
            options: ["Croissante", "D√©croissante", "Constante", "N√©gative"],
            correct: 0,
            explanation:
              "Le signe de la d√©riv√©e donne le sens de variation : f'(x) > 0 ‚áí f croissante, f'(x) < 0 ‚áí f d√©croissante",
          },
          {
            question: "La d√©riv√©e de f(x) = x¬≤ + 3x - 5 est :",
            options: ["2x + 3", "2x + 3x", "x¬≤ + 3", "2x - 5"],
            correct: 0,
            explanation:
              "On d√©rive terme √† terme : (x¬≤)' + (3x)' - (5)' = 2x + 3 - 0 = 2x + 3",
          },
          {
            question: "En un extremum local, la d√©riv√©e :",
            options: [
              "S'annule",
              "Est maximale",
              "Est minimale",
              "N'existe pas",
            ],
            correct: 0,
            explanation:
              "Un extremum (maximum ou minimum local) est un point o√π f'(x) = 0 et o√π f' change de signe.",
          },
          {
            question: "La d√©riv√©e de f(x) = 1/x est :",
            options: ["-1/x¬≤", "1/x¬≤", "-1/x", "ln(x)"],
            correct: 0,
            explanation:
              "On peut √©crire 1/x = x‚Åª¬π, donc (x‚Åª¬π)' = -1√óx‚Åª¬≤ = -1/x¬≤",
          },
        ],
        exponentielles: [
          {
            question: "Quelle est la valeur de e‚Å∞ ?",
            options: ["1", "0", "e", "Ind√©fini"],
            correct: 0,
            explanation:
              "Par d√©finition, e‚Å∞ = 1 (comme pour toute exponentielle : a‚Å∞ = 1)",
          },
          {
            question: "La fonction exponentielle v√©rifie :",
            options: [
              "e·µÉ √ó e·µá = e·µÉ‚Å∫·µá",
              "e·µÉ √ó e·µá = e·µÉÀ£·µá",
              "e·µÉ + e·µá = e·µÉ‚Å∫·µá",
              "e·µÉ - e·µá = e·µÉ‚Åª·µá",
            ],
            correct: 0,
            explanation:
              "Propri√©t√© fondamentale : e·µÉ √ó e·µá = e·µÉ‚Å∫·µá. Aussi : e·µÉ/e·µá = e·µÉ‚Åª·µá et (e·µÉ)·µá = e·µÉÀ£·µá",
          },
          {
            question: "La d√©riv√©e de f(x) = eÀ£ est :",
            options: ["eÀ£", "xeÀ£‚Åª¬π", "eÀ£‚Å∫¬π", "ln(x)"],
            correct: 0,
            explanation:
              "Propri√©t√© remarquable : la fonction exponentielle est sa propre d√©riv√©e ! (eÀ£)' = eÀ£",
          },
          {
            question: "La fonction exponentielle est :",
            options: [
              "Toujours strictement positive",
              "Parfois n√©gative",
              "Nulle en 0",
              "N√©gative pour x < 0",
            ],
            correct: 0,
            explanation:
              "Pour tout x r√©el, eÀ£ > 0. La fonction exponentielle est toujours strictement positive.",
          },
          {
            question: "La limite de eÀ£ quand x tend vers -‚àû est :",
            options: ["0", "+‚àû", "-‚àû", "e"],
            correct: 0,
            explanation: "lim(x‚Üí-‚àû) eÀ£ = 0 et lim(x‚Üí+‚àû) eÀ£ = +‚àû",
          },
          {
            question: "R√©soudre eÀ£ = e¬≥ donne :",
            options: ["x = 3", "x = e¬≥", "x = ln(3)", "x = 3e"],
            correct: 0,
            explanation:
              "La fonction exponentielle est injective : eÀ£ = e·µÉ ‚áî x = a. Donc eÀ£ = e¬≥ ‚áî x = 3",
          },
        ],
      };

      function startQuiz(type) {
        currentQuiz = [...quizzes[type]];
        currentQuestionIndex = 0;
        document.getElementById("menu").style.display = "none";
        document.getElementById("quiz").classList.add("active");
        document.getElementById("celebration").classList.remove("show");
        loadQuestion();
      }

      function loadQuestion() {
        if (currentQuestionIndex >= currentQuiz.length) {
          showCelebration();
          return;
        }

        const question = currentQuiz[currentQuestionIndex];
        const container = document.getElementById("question-container");
        const progress = document.getElementById("progress");

        progress.textContent = `Question ${currentQuestionIndex + 1} / ${
          currentQuiz.length
        }`;

        let html = `
                <div class="question-card">
                    <div class="question-text">${question.question}</div>
                    <div class="options">
            `;

        question.options.forEach((option, index) => {
          html += `<button class="option-btn" onclick="checkAnswer(${index})">${option}</button>`;
        });

        html += `
                    </div>
                    <div class="feedback" id="feedback"></div>
                </div>
            `;

        container.innerHTML = html;
        document.getElementById("next-btn").disabled = true;
      }

      function checkAnswer(selected) {
        const question = currentQuiz[currentQuestionIndex];
        const options = document.querySelectorAll(".option-btn");
        const feedback = document.getElementById("feedback");
        const nextBtn = document.getElementById("next-btn");

        options.forEach((btn, index) => {
          btn.disabled = true;
          if (index === question.correct) {
            btn.classList.add("correct");
          }
          if (index === selected && selected !== question.correct) {
            btn.classList.add("incorrect");
          }
        });

        totalQuestions++;

        if (selected === question.correct) {
          score += 10;
          streak++;
          feedback.className = "feedback show correct";
          feedback.innerHTML = `‚úÖ Bravo ! ${question.explanation}`;
        } else {
          streak = 0;
          feedback.className = "feedback show incorrect";
          feedback.innerHTML = `‚ùå Rat√© ! ${question.explanation}`;
        }

        updateScore();
        nextBtn.disabled = false;
      }

      function nextQuestion() {
        currentQuestionIndex++;
        loadQuestion();
      }

      function updateScore() {
        document.getElementById("score").textContent = score;
        document.getElementById("streak").textContent = streak;
        document.getElementById("total").textContent = totalQuestions;
      }

      function showCelebration() {
        document.getElementById("quiz").classList.remove("active");
        document.getElementById("celebration").classList.add("show");
        document.getElementById("final-score").textContent = score;
      }

      function backToMenu() {
        document.getElementById("menu").style.display = "grid";
        document.getElementById("quiz").classList.remove("active");
        document.getElementById("celebration").classList.remove("show");
      }
    </script>
  </body>
</html>
