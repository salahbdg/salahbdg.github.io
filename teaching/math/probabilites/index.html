<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Probabilit√©s et Statistiques - Terminale</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
        color: #333;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        padding: 40px;
        border-radius: 15px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      h1 {
        color: #667eea;
        text-align: center;
        margin-bottom: 30px;
        font-size: 2.5em;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      }

      h2 {
        color: #764ba2;
        margin-top: 30px;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 3px solid #667eea;
      }

      h3 {
        color: #667eea;
        margin-top: 20px;
        margin-bottom: 10px;
      }

      .definition {
        background: #f0f4ff;
        padding: 20px;
        border-left: 5px solid #667eea;
        margin: 20px 0;
        border-radius: 5px;
      }

      .formule {
        background: #fff9e6;
        padding: 15px;
        border-left: 5px solid #ffa500;
        margin: 15px 0;
        border-radius: 5px;
        font-family: "Courier New", monospace;
      }

      .exemple {
        background: #e8f5e9;
        padding: 20px;
        border-left: 5px solid #4caf50;
        margin: 20px 0;
        border-radius: 5px;
      }

      .important {
        background: #ffebee;
        padding: 15px;
        border-left: 5px solid #f44336;
        margin: 15px 0;
        border-radius: 5px;
        font-weight: bold;
      }

      .topic-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }

      .topic-card {
        background: linear-gradient(135deg, #667eea15, #764ba215);
        padding: 20px;
        border-radius: 10px;
        border: 2px solid #667eea;
        transition: transform 0.3s, box-shadow 0.3s;
      }

      .topic-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
      }

      .topic-card h4 {
        color: #764ba2;
        margin-bottom: 15px;
        font-size: 1.3em;
      }

      .topic-card ul {
        list-style: none;
        padding-left: 0;
      }

      .topic-card li {
        padding: 8px 0;
        padding-left: 25px;
        position: relative;
      }

      .topic-card li:before {
        content: "‚ñ∏";
        position: absolute;
        left: 5px;
        color: #667eea;
        font-weight: bold;
      }

      .tableau {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
      }

      .tableau th,
      .tableau td {
        border: 2px solid #667eea;
        padding: 12px;
        text-align: center;
      }

      .tableau th {
        background: #667eea;
        color: white;
      }

      .tableau tr:nth-child(even) {
        background: #f0f4ff;
      }

      .interactive-section {
        background: #f8f9fa;
        padding: 20px;
        margin: 20px 0;
        border-radius: 10px;
        border: 2px solid #667eea;
      }

      .controls {
        display: flex;
        gap: 15px;
        margin: 15px 0;
        flex-wrap: wrap;
        align-items: center;
      }

      .controls label {
        font-weight: bold;
        color: #667eea;
      }

      .controls input,
      .controls select {
        padding: 8px;
        border: 2px solid #667eea;
        border-radius: 5px;
      }

      .controls button {
        background: #667eea;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
        transition: background 0.3s;
      }

      .controls button:hover {
        background: #764ba2;
      }

      .chart-container {
        background: white;
        padding: 20px;
        margin: 20px 0;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      canvas {
        max-height: 400px;
      }

      .visualization-box {
        background: linear-gradient(135deg, #667eea15, #764ba215);
        padding: 20px;
        margin: 20px 0;
        border-radius: 10px;
        border: 2px dashed #667eea;
      }

      .must-know {
        background: linear-gradient(135deg, #3f3f3f 0%, #000000 100%);
        color: white;
        padding: 25px;
        margin: 30px 0;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      .must-know h4 {
        font-size: 1.5em;
        margin-bottom: 15px;
        text-align: center;
      }

      .must-know ul {
        list-style: none;
        padding: 0;
      }

      .must-know li {
        padding: 10px 0;
        padding-left: 30px;
        position: relative;
        font-size: 1.05em;
      }

      .must-know li:before {
        content: "‚úì";
        position: absolute;
        left: 5px;
        font-weight: bold;
        font-size: 1.2em;
      }

      .comparison-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 20px 0;
      }

      @media (max-width: 768px) {
        .comparison-grid,
        .topic-grid {
          grid-template-columns: 1fr;
        }
      }

      .method-box {
        background: #fff3e0;
        padding: 15px;
        margin: 15px 0;
        border-radius: 5px;
        border-left: 5px solid #ff9800;
      }

      .tree-diagram {
        background: white;
        padding: 20px;
        margin: 20px 0;
        border-radius: 10px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üé≤ Probabilit√©s et Statistiques - Terminale</h1>

      <div class="must-know">
        <h4>üéØ Points essentiels √† retenir</h4>
        <ul>
          <li>
            <strong>Loi binomiale :</strong> X ~ B(n,p), P(X=k) = C<sub>n</sub
            ><sup>k</sup> √ó p<sup>k</sup> √ó (1-p)<sup>n-k</sup>
          </li>
          <li>
            <strong>Esp√©rance/Variance :</strong> E(X) = np, V(X) = np(1-p) pour
            une binomiale
          </li>
          <li>
            <strong>Loi normale centr√©e r√©duite :</strong> utilisation de la
            table ou calculatrice
          </li>
          <li>
            <strong>Intervalle de fluctuation √† 95% :</strong> [p -
            1,96‚àö(p(1-p)/n) ; p + 1,96‚àö(p(1-p)/n)]
          </li>
          <li>
            <strong>Th√©or√®me central limite :</strong> approximation normale
            pour n grand
          </li>
        </ul>
      </div>

      <h2>I. Vue d'ensemble</h2>

      <div class="topic-grid">
        <div class="topic-card">
          <h4>Variables Al√©atoires</h4>
          <ul>
            <li>D√©finition d'une variable al√©atoire</li>
            <li>Loi de probabilit√© d'une variable discr√®te</li>
            <li>Esp√©rance, variance, √©cart-type</li>
            <li>Variables al√©atoires continues</li>
          </ul>
        </div>
        <div class="topic-card">
          <h4>Lois de Probabilit√©</h4>
          <ul>
            <li>Loi de Bernoulli</li>
            <li>Loi binomiale B(n,p)</li>
            <li>Loi normale N(Œº,œÉ¬≤)</li>
            <li>Loi uniforme</li>
            <li>Approximation normale de la loi binomiale</li>
          </ul>
        </div>
        <div class="topic-card">
          <h4>√âchantillonnage</h4>
          <ul>
            <li>Fluctuation d'√©chantillonnage</li>
            <li>Intervalle de fluctuation</li>
            <li>Estimation par intervalle de confiance</li>
            <li>Tests d'hypoth√®ses</li>
          </ul>
        </div>
        <div class="topic-card">
          <h4>Probabilit√©s Conditionnelles</h4>
          <ul>
            <li>D√©finition de P(A|B)</li>
            <li>Formule des probabilit√©s totales</li>
            <li>Formule de Bayes</li>
            <li>Ind√©pendance d'√©v√©nements</li>
          </ul>
        </div>
      </div>

      <h2>II. Variables Al√©atoires</h2>

      <div class="definition">
        <h3>D√©finition</h3>
        <p>
          Une <strong>variable al√©atoire</strong> X est une fonction qui associe
          √† chaque issue d'une exp√©rience al√©atoire un nombre r√©el.
        </p>
        <p>
          Par exemple : X = "nombre de fois o√π on obtient pile en lan√ßant 3 fois
          une pi√®ce"
        </p>
      </div>

      <div class="formule">
        <h3>Loi de probabilit√©</h3>
        <p>
          La loi de probabilit√© de X donne les probabilit√©s P(X = k) pour toutes
          les valeurs possibles k.
        </p>
        <p><strong>Propri√©t√©s :</strong></p>
        <p>‚Ä¢ 0 ‚â§ P(X = k) ‚â§ 1 pour tout k</p>
        <p>‚Ä¢ Œ£P(X = k) = 1 (somme de toutes les probabilit√©s = 1)</p>
      </div>

      <div class="formule">
        <h3>Caract√©ristiques d'une variable al√©atoire</h3>
        <p><strong>Esp√©rance :</strong> E(X) = Œ£ k √ó P(X = k)</p>
        <p style="margin-left: 20px; color: #666">
          ‚Üí Moyenne th√©orique, valeur "attendue"
        </p>
        <p><strong>Variance :</strong> V(X) = E(X¬≤) - [E(X)]¬≤</p>
        <p style="margin-left: 20px; color: #666">
          ‚Üí Mesure de la dispersion autour de la moyenne
        </p>
        <p><strong>√âcart-type :</strong> œÉ(X) = ‚àöV(X)</p>
        <p style="margin-left: 20px; color: #666">‚Üí M√™me unit√© que X</p>
      </div>

      <div class="exemple">
        <h3>Exemple : Lancer de d√©</h3>
        <p>On lance un d√© √©quilibr√©. Soit X le r√©sultat obtenu.</p>
        <table class="tableau">
          <tr>
            <th>k</th>
            <th>1</th>
            <th>2</th>
            <th>3</th>
            <th>4</th>
            <th>5</th>
            <th>6</th>
          </tr>
          <tr>
            <td><strong>P(X=k)</strong></td>
            <td>1/6</td>
            <td>1/6</td>
            <td>1/6</td>
            <td>1/6</td>
            <td>1/6</td>
            <td>1/6</td>
          </tr>
        </table>
        <p>
          <strong>Esp√©rance :</strong> E(X) = 1√ó(1/6) + 2√ó(1/6) + ... + 6√ó(1/6)
          = 21/6 = <strong>3,5</strong>
        </p>
      </div>

      <h2>III. Loi de Bernoulli</h2>

      <div class="definition">
        <h3>D√©finition</h3>
        <p>
          Une <strong>√©preuve de Bernoulli</strong> est une exp√©rience al√©atoire
          qui n'a que deux issues :
        </p>
        <ul style="margin-left: 30px; margin-top: 10px">
          <li><strong>Succ√®s</strong> avec probabilit√© p</li>
          <li><strong>√âchec</strong> avec probabilit√© 1-p</li>
        </ul>
        <p style="margin-top: 15px">
          La variable al√©atoire X qui vaut 1 en cas de succ√®s et 0 en cas
          d'√©chec suit une <strong>loi de Bernoulli</strong> de param√®tre p.
        </p>
      </div>

      <div class="formule">
        <h3>Caract√©ristiques de la loi de Bernoulli</h3>
        <p><strong>Loi de probabilit√© :</strong></p>
        <p>‚Ä¢ P(X = 1) = p</p>
        <p>‚Ä¢ P(X = 0) = 1 - p</p>
        <p><strong>Esp√©rance :</strong> E(X) = p</p>
        <p><strong>Variance :</strong> V(X) = p(1-p)</p>
      </div>

      <h2>IV. Loi Binomiale B(n,p)</h2>

      <div class="definition">
        <h3>D√©finition</h3>
        <p>
          On r√©p√®te <strong>n fois de mani√®re ind√©pendante</strong> une √©preuve
          de Bernoulli de param√®tre p.
        </p>
        <p>
          La variable al√©atoire X qui compte le
          <strong>nombre de succ√®s</strong> obtenus suit une
          <strong>loi binomiale</strong> de param√®tres n et p.
        </p>
        <p style="text-align: center; margin-top: 10px; font-size: 1.2em">
          <strong>X ~ B(n, p)</strong>
        </p>
      </div>

      <div class="formule">
        <h3>Formule fondamentale</h3>
        <p
          style="
            text-align: center;
            font-size: 1.2em;
            margin: 15px 0;
            background: #f0f4ff;
            padding: 15px;
            border-radius: 5px;
          "
        >
          <strong
            >P(X = k) = C<sub>n</sub><sup>k</sup> √ó p<sup>k</sup> √ó (1-p)<sup
              >n-k</sup
            ></strong
          >
        </p>
        <p>
          o√π C<sub>n</sub><sup>k</sup> = n! / (k!(n-k)!) est le coefficient
          binomial
        </p>
        <p><strong>Esp√©rance :</strong> E(X) = n √ó p</p>
        <p><strong>Variance :</strong> V(X) = n √ó p √ó (1-p)</p>
        <p><strong>√âcart-type :</strong> œÉ(X) = ‚àö(n √ó p √ó (1-p))</p>
      </div>

      <div class="interactive-section">
        <h3>üéÆ Visualisation de la loi binomiale</h3>
        <div class="controls">
          <label>n (nombre d'√©preuves) :</label>
          <input type="number" id="binom-n" value="10" min="1" max="50" />
          <label>p (probabilit√© de succ√®s) :</label>
          <input
            type="number"
            id="binom-p"
            value="0.5"
            min="0"
            max="1"
            step="0.1"
          />
          <button onclick="updateBinomial()">Mettre √† jour</button>
        </div>
        <div class="chart-container">
          <canvas id="binomialChart"></canvas>
        </div>
        <div
          id="binomial-info"
          style="
            text-align: center;
            padding: 15px;
            background: #f0f4ff;
            border-radius: 5px;
            margin-top: 15px;
            font-weight: bold;
            color: #667eea;
          "
        ></div>
      </div>

      <div class="exemple">
        <h3>Exemple classique : Contr√¥le qualit√©</h3>
        <p>
          <strong>√ânonc√© :</strong> Une machine produit des pi√®ces avec 10% de
          pi√®ces d√©fectueuses. On pr√©l√®ve 20 pi√®ces au hasard.
        </p>
        <p>Soit X le nombre de pi√®ces d√©fectueuses. X ~ B(20, 0.1)</p>
        <p>
          <strong>Question 1 :</strong> Quelle est la probabilit√© d'avoir
          exactement 2 pi√®ces d√©fectueuses ?
        </p>
        <p>
          <strong>Solution :</strong> P(X = 2) = C<sub>20</sub><sup>2</sup> √ó
          0,1¬≤ √ó 0,9¬π‚Å∏ ‚âà <strong>0,285</strong>
        </p>
        <p>
          <strong>Question 2 :</strong> Combien de pi√®ces d√©fectueuses peut-on
          esp√©rer ?
        </p>
        <p>
          <strong>Solution :</strong> E(X) = 20 √ó 0,1 =
          <strong>2 pi√®ces</strong>
        </p>
      </div>

      <h2>V. Loi Normale N(Œº, œÉ¬≤)</h2>

      <div class="definition">
        <h3>D√©finition</h3>
        <p>
          Une variable al√©atoire X suit une <strong>loi normale</strong> de
          param√®tres Œº (esp√©rance) et œÉ¬≤ (variance) si sa densit√© de probabilit√©
          est une courbe en cloche centr√©e en Œº.
        </p>
        <p style="text-align: center; margin-top: 10px; font-size: 1.2em">
          <strong>X ~ N(Œº, œÉ¬≤)</strong>
        </p>
      </div>

      <div class="interactive-section">
        <h3>üéÆ Visualisation de la loi normale</h3>
        <div class="controls">
          <label>Œº (moyenne) :</label>
          <input type="number" id="normal-mu" value="0" step="0.5" />
          <label>œÉ (√©cart-type) :</label>
          <input
            type="number"
            id="normal-sigma"
            value="1"
            min="0.1"
            step="0.1"
          />
          <button onclick="updateNormal()">Mettre √† jour</button>
        </div>
        <div class="chart-container">
          <canvas id="normalChart"></canvas>
        </div>
      </div>

      <div class="formule">
        <h3>Loi normale centr√©e r√©duite N(0,1)</h3>
        <p>
          Lorsque Œº = 0 et œÉ = 1, on parle de
          <strong>loi normale centr√©e r√©duite</strong>.
        </p>
        <p>
          <strong>Standardisation :</strong> Si X ~ N(Œº, œÉ¬≤), alors Z = (X - Œº)
          / œÉ ~ N(0, 1)
        </p>
      </div>

      <div class="important">
        <h3>R√®gle des "68-95-99,7"</h3>
        <p>Pour une variable X ~ N(Œº, œÉ¬≤) :</p>
        <ul style="margin-left: 20px; margin-top: 10px">
          <li>P(Œº - œÉ ‚â§ X ‚â§ Œº + œÉ) ‚âà 0,68 (68%)</li>
          <li>P(Œº - 2œÉ ‚â§ X ‚â§ Œº + 2œÉ) ‚âà 0,95 (95%)</li>
          <li>P(Œº - 3œÉ ‚â§ X ‚â§ Œº + 3œÉ) ‚âà 0,997 (99,7%)</li>
        </ul>
      </div>

      <div class="visualization-box">
        <h3 style="color: #667eea">
          üìä R√®gle des 68-95-99,7 (R√®gle empirique)
        </h3>
        <svg
          width="100%"
          height="250"
          style="max-width: 700px; display: block; margin: 20px auto"
        >
          <!-- Courbe en cloche simplifi√©e -->
          <path
            d="M 50 200 Q 100 180, 150 120 T 250 30 T 350 30 T 450 120 T 550 180 Q 600 200, 650 200"
            fill="none"
            stroke="#667eea"
            stroke-width="3"
          />

          <!-- Zone 68% -->
          <rect
            x="250"
            y="0"
            width="200"
            height="200"
            fill="#667eea"
            opacity="0.2"
          />
          <text
            x="350"
            y="220"
            text-anchor="middle"
            font-weight="bold"
            fill="#667eea"
          >
            68%
          </text>
          <text x="350" y="235" text-anchor="middle" font-size="12" fill="#666">
            ¬±œÉ
          </text>

          <!-- Zone 95% -->
          <rect
            x="150"
            y="0"
            width="100"
            height="200"
            fill="#7c8ef5"
            opacity="0.15"
          />
          <rect
            x="450"
            y="0"
            width="100"
            height="200"
            fill="#7c8ef5"
            opacity="0.15"
          />
          <text
            x="200"
            y="220"
            text-anchor="middle"
            font-weight="bold"
            fill="#7c8ef5"
          >
            95%
          </text>
          <text
            x="500"
            y="220"
            text-anchor="middle"
            font-weight="bold"
            fill="#7c8ef5"
          >
            95%
          </text>
          <text x="150" y="235" text-anchor="middle" font-size="12" fill="#666">
            -2œÉ
          </text>
          <text x="550" y="235" text-anchor="middle" font-size="12" fill="#666">
            +2œÉ
          </text>

          <!-- Moyenne -->
          <line
            x1="350"
            y1="30"
            x2="350"
            y2="210"
            stroke="#f44336"
            stroke-width="2"
            stroke-dasharray="5,5"
          />
          <text
            x="350"
            y="15"
            text-anchor="middle"
            font-weight="bold"
            fill="#f44336"
          >
            Œº
          </text>
        </svg>
      </div>

      <div class="exemple">
        <h3>Exemple : Tailles d'une population</h3>
        <p>
          Les tailles des adultes suivent une loi normale N(170, 100) (Œº=170 cm,
          œÉ=10 cm).
        </p>
        <p>
          <strong>Question :</strong> Quelle proportion de personnes mesure
          entre 160 et 180 cm ?
        </p>
        <p>
          <strong>Solution :</strong> [160, 180] = [Œº-œÉ, Œº+œÉ], donc environ
          <strong>68%</strong> des personnes
        </p>
      </div>

      <h2>VI. Approximation Normale de la Loi Binomiale</h2>

      <div class="definition">
        <h3>Th√©or√®me (admis)</h3>
        <p>
          Si X ~ B(n, p) avec <strong>n ‚â• 30</strong>,
          <strong>np ‚â• 5</strong> et <strong>n(1-p) ‚â• 5</strong>, alors :
        </p>
        <p
          style="
            text-align: center;
            font-size: 1.2em;
            margin: 15px 0;
            background: #f0f4ff;
            padding: 15px;
            border-radius: 5px;
          "
        >
          <strong>X ‚âà N(np, np(1-p))</strong>
        </p>
      </div>

      <div class="interactive-section">
        <h3>üéÆ Comparaison Binomiale vs Normale</h3>
        <div class="controls">
          <label>n :</label>
          <input type="number" id="approx-n" value="50" min="10" max="200" />
          <label>p :</label>
          <input
            type="number"
            id="approx-p"
            value="0.3"
            min="0.1"
            max="0.9"
            step="0.1"
          />
          <button onclick="updateApproximation()">Mettre √† jour</button>
        </div>
        <div class="chart-container">
          <canvas id="approximationChart"></canvas>
        </div>
        <div
          id="approx-info"
          style="
            text-align: center;
            padding: 15px;
            background: #f0f4ff;
            border-radius: 5px;
            margin-top: 15px;
            font-weight: bold;
            color: #667eea;
          "
        ></div>
      </div>

      <h2>VII. Probabilit√©s Conditionnelles</h2>

      <div class="definition">
        <h3>D√©finition</h3>
        <p>
          La <strong>probabilit√© conditionnelle</strong> de A sachant B est :
        </p>
        <p style="text-align: center; font-size: 1.3em; margin: 15px 0">
          <strong>P<sub>B</sub>(A) = P(A|B) = P(A ‚à© B) / P(B)</strong>
        </p>
        <p>avec P(B) > 0</p>
      </div>

      <div class="tree-diagram">
        <h3 style="color: #667eea">Arbre de probabilit√©s</h3>
        <svg
          width="100%"
          height="600"
          viewBox="0 0 700 300"
          preserveAspectRatio="xMidYMid meet"
          style="max-width: 1200px; display: block;"
          aria-label="Arbre de probabilit√©s avec A et ƒÄ puis B et B barre"
        >
          <!-- Styles -->
          <defs>
        <style>
          .node { fill: #667eea; }
          .node-alt { fill: #764ba2; }
          .leaf-green { fill: #4caf50; }
          .leaf-orange { fill: #ff9800; }
          .line-main { stroke: #667eea; stroke-width: 2; stroke-linecap: round; }
          .line-alt { stroke: #764ba2; stroke-width: 2; stroke-linecap: round; }
          .line-green { stroke: #4caf50; stroke-width: 2; stroke-linecap: round; }
          .line-orange { stroke: #ff9800; stroke-width: 2; stroke-linecap: round; }
          .label { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 14px; fill: #333; font-weight: 600; }
          .small { font-size: 12px; fill: #666; font-weight: 600; }
        </style>
          </defs>

          <!-- Noeud initial -->
          <circle cx="70" cy="150" r="8" class="node" />

          <!-- Branche sup√©rieure (A) -->
          <line x1="70" y1="150" x2="230" y2="80" class="line-main" />
          <circle cx="230" cy="80" r="8" class="node" />
          <text x="120" y="105" class="small" fill="#667eea">
        P(A) = p
          </text>
          <text x="245" y="85" class="label" fill="#667eea">A</text>

          <!-- Branche inf√©rieure (ƒÄ) -->
          <line x1="70" y1="150" x2="230" y2="220" class="line-alt" />
          <circle cx="230" cy="220" r="8" class="node-alt" />
          <text x="120" y="200" class="small" fill="#764ba2">
        P(ƒÄ) = 1 - p
          </text>
          <text x="245" y="225" class="label" fill="#764ba2">ƒÄ</text>

          <!-- Sous-branches depuis A -->
          <line x1="230" y1="80" x2="400" y2="50" class="line-green" />
          <circle cx="400" cy="50" r="6" class="leaf-green" />
          <text x="270" y="60" class="small" fill="#4caf50">
        <tspan>P</tspan><tspan baseline-shift="sub" font-size="11">A</tspan><tspan>(B)</tspan>
          </text>
          <text x="415" y="55" class="label" fill="#4caf50">B</text>

          <line x1="230" y1="80" x2="400" y2="110" class="line-orange" />
          <circle cx="400" cy="110" r="6" class="leaf-orange" />
          <text x="270" y="125" class="small" fill="#ff9800">
        <tspan>P</tspan><tspan baseline-shift="sub" font-size="11">A</tspan><tspan>(BÃÑ)</tspan>
          </text>
          <text x="415" y="115" class="label" fill="#ff9800">BÃÑ</text>

          <!-- Sous-branches depuis ƒÄ -->
          <line x1="230" y1="220" x2="400" y2="190" class="line-green" />
          <circle cx="400" cy="190" r="6" class="leaf-green" />
          <text x="270" y="200" class="small" fill="#4caf50"></text>
        <tspan>P</tspan><tspan baseline-shift="sub" font-size="11">ƒÄ</tspan><tspan>(B)</tspan>
          </text>
          <text x="415" y="195" class="label" fill="#4caf50">B</text>

          <line x1="230" y1="220" x2="400" y2="250" class="line-orange" />
          <circle cx="400" cy="250" r="6" class="leaf-orange" />
          <text x="270" y="260" class="small" fill="#ff9800">
        <tspan>P</tspan><tspan baseline-shift="sub" font-size="11">ƒÄ</tspan><tspan>(BÃÑ)</tspan>
          </text>
          <text x="415" y="255" class="label" fill="#ff9800">BÃÑ</text>

          <!-- Exemple de produits sur les branches (facultatif, discret et l√©ger) -->
          <text x="480" y="70" class="small" fill="#444">P(A ‚à© B) = p ¬∑ P_A(B)</text>
          <text x="480" y="120" class="small" fill="#444">P(A ‚à© BÃÑ) = p ¬∑ P_A(BÃÑ)</text>
          <text x="480" y="200" class="small" fill="#444">P(ƒÄ ‚à© B) = (1-p) ¬∑ P_ƒÄ(B)</text>
          <text x="480" y="250" class="small" fill="#444">P(ƒÄ ‚à© BÃÑ) = (1-p) ¬∑ P_ƒÄ(BÃÑ)</text>
        </svg>
      </div>

      <div class="formule">
        <h3>Formules importantes</h3>
        <p><strong>Formule des probabilit√©s totales :</strong></p>
        <p style="margin-left: 20px">
          P(B) = P(A ‚à© B) + P(ƒÄ ‚à© B) = P(A) √ó P<sub>A</sub>(B) + P(ƒÄ) √ó
          P<sub>ƒÄ</sub>(B)
        </p>

        <p style="margin-top: 15px"><strong>Formule de Bayes :</strong></p>
        <p style="margin-left: 20px">
          P<sub>B</sub>(A) = [P(A) √ó P<sub>A</sub>(B)] / P(B)
        </p>

        <p style="margin-top: 15px"><strong>Ind√©pendance :</strong></p>
        <p style="margin-left: 20px">
          A et B sont ind√©pendants si P(A ‚à© B) = P(A) √ó P(B)
        </p>
        <p style="margin-left: 20px">
          √âquivalent √† : P<sub>B</sub>(A) = P(A) ou P<sub>A</sub>(B) = P(B)
        </p>
      </div>

      <div class="exemple">
        <h3>Exemple classique : Test m√©dical</h3>
        <p>
          <strong>Contexte :</strong> Un test de d√©pistage d'une maladie donne :
        </p>
        <ul style="margin-left: 30px">
          <li>
            R√©sultat positif dans 95% des cas si la personne est malade
            (sensibilit√©)
          </li>
          <li>
            R√©sultat n√©gatif dans 90% des cas si la personne est saine
            (sp√©cificit√©)
          </li>
          <li>1% de la population est malade</li>
        </ul>
        <p style="margin-top: 15px">
          <strong>Question :</strong> Si le test est positif, quelle est la
          probabilit√© d'√™tre vraiment malade ?
        </p>
        <p><strong>Solution :</strong></p>
        <p>Soit M = "√™tre malade" et T+ = "test positif"</p>
        <p>P(M) = 0,01 donc P(MÃÑ) = 0,99</p>
        <p>P<sub>M</sub>(T+) = 0,95 et P<sub>MÃÑ</sub>(T+) = 0,10</p>
        <p>Par la formule des probabilit√©s totales :</p>
        <p>P(T+) = 0,01 √ó 0,95 + 0,99 √ó 0,10 = 0,0095 + 0,099 = 0,1085</p>
        <p>Par la formule de Bayes :</p>
        <p>
          P<sub>T+</sub>(M) = (0,01 √ó 0,95) / 0,1085 ‚âà
          <strong>0,088 soit 8,8%</strong>
        </p>
        <p style="color: #f44336; font-weight: bold; margin-top: 10px">
          ‚ö†Ô∏è R√©sultat surprenant : m√™me avec un test positif, on n'a que 8,8% de
          chances d'√™tre malade !
        </p>
      </div>

      <h2>VIII. In√©galit√© de Bienaym√©-Tchebychev</h2>

      <div class="definition">
        <h3>Th√©or√®me de Bienaym√©-Tchebychev</h3>
        <p>
          Soit X une variable al√©atoire d'esp√©rance E(X) = Œº et de variance V(X)
          = œÉ¬≤.
        </p>
        <p>Pour tout r√©el <strong>a > 0</strong>, on a :</p>
        <p
          style="
            text-align: center;
            font-size: 1.3em;
            margin: 20px 0;
            background: #fff9e6;
            padding: 20px;
            border-radius: 10px;
          "
        >
          <strong>P(|X - Œº| ‚â• a) ‚â§ œÉ¬≤/a¬≤</strong>
        </p>
        <p>Ou de mani√®re √©quivalente :</p>
        <p
          style="
            text-align: center;
            font-size: 1.3em;
            margin: 20px 0;
            background: #f0f4ff;
            padding: 20px;
            border-radius: 10px;
          "
        >
          <strong>P(|X - Œº| < a) ‚â• 1 - œÉ¬≤/a¬≤</strong>
        </p>
      </div>

      <div class="visualization-box">
        <h3 style="color: #667eea">üìä Interpr√©tation visuelle</h3>
        <p style="text-align: center; margin: 20px 0">
          L'in√©galit√© nous dit que X a de fortes chances d'√™tre proche de sa
          moyenne Œº
        </p>
        <svg
          width="100%"
          height="200"
          style="max-width: 700px; display: block; margin: 20px auto"
        >
          <!-- Axe -->
          <line
            x1="50"
            y1="100"
            x2="650"
            y2="100"
            stroke="#333"
            stroke-width="2"
          />

          <!-- Zone interdite (probabilit√© faible) -->
          <rect
            x="50"
            y="80"
            width="150"
            height="40"
            fill="#ffebee"
            opacity="0.7"
          />
          <rect
            x="500"
            y="80"
            width="150"
            height="40"
            fill="#ffebee"
            opacity="0.7"
          />

          <!-- Zone probable -->
          <rect
            x="200"
            y="80"
            width="300"
            height="40"
            fill="#e8f5e9"
            opacity="0.7"
          />

          <!-- Marques -->
          <line
            x1="200"
            y1="90"
            x2="200"
            y2="110"
            stroke="#f44336"
            stroke-width="3"
          />
          <text
            x="200"
            y="135"
            text-anchor="middle"
            fill="#f44336"
            font-weight="bold"
          >
            Œº - a
          </text>

          <line
            x1="350"
            y1="80"
            x2="350"
            y2="120"
            stroke="#667eea"
            stroke-width="4"
          />
          <text
            x="350"
            y="70"
            text-anchor="middle"
            fill="#667eea"
            font-weight="bold"
            font-size="18"
          >
            Œº
          </text>

          <line
            x1="500"
            y1="90"
            x2="500"
            y2="110"
            stroke="#f44336"
            stroke-width="3"
          />
          <text
            x="500"
            y="135"
            text-anchor="middle"
            fill="#f44336"
            font-weight="bold"
          >
            Œº + a
          </text>

          <!-- Annotations -->
          <text
            x="125"
            y="160"
            text-anchor="middle"
            fill="#f44336"
            font-size="12"
          >
            P ‚â§ œÉ¬≤/a¬≤
          </text>
          <text
            x="575"
            y="160"
            text-anchor="middle"
            fill="#f44336"
            font-size="12"
          >
            P ‚â§ œÉ¬≤/a¬≤
          </text>
          <text
            x="350"
            y="160"
            text-anchor="middle"
            fill="#4caf50"
            font-weight="bold"
            font-size="14"
          >
            P ‚â• 1 - œÉ¬≤/a¬≤
          </text>
        </svg>
        <p
          style="
            text-align: center;
            color: #764ba2;
            font-weight: bold;
            margin-top: 15px;
          "
        >
          Plus X s'√©loigne de Œº, moins c'est probable !
        </p>
      </div>

      <div class="formule">
        <h3>Forme alternative avec kœÉ</h3>
        <p>En posant <strong>a = kœÉ</strong> (k > 0), l'in√©galit√© devient :</p>
        <p style="text-align: center; font-size: 1.2em; margin: 15px 0">
          <strong>P(|X - Œº| ‚â• kœÉ) ‚â§ 1/k¬≤</strong>
        </p>
        <p>Autrement dit :</p>
        <p
          style="
            text-align: center;
            font-size: 1.2em;
            margin: 15px 0;
            background: #e8f5e9;
            padding: 15px;
            border-radius: 5px;
          "
        >
          <strong>P(Œº - kœÉ ‚â§ X ‚â§ Œº + kœÉ) ‚â• 1 - 1/k¬≤</strong>
        </p>
      </div>

      <div class="important">
        <h3>Applications pratiques</h3>
        <table class="tableau">
          <tr>
            <th>Valeur de k</th>
            <th>Intervalle</th>
            <th>Probabilit√© minimale</th>
          </tr>
          <tr>
            <td>k = 2</td>
            <td>[Œº - 2œÉ, Œº + 2œÉ]</td>
            <td>‚â• 1 - 1/4 = <strong>75%</strong></td>
          </tr>
          <tr>
            <td>k = 3</td>
            <td>[Œº - 3œÉ, Œº + 3œÉ]</td>
            <td>‚â• 1 - 1/9 ‚âà <strong>89%</strong></td>
          </tr>
          <tr>
            <td>k = 4</td>
            <td>[Œº - 4œÉ, Œº + 4œÉ]</td>
            <td>‚â• 1 - 1/16 ‚âà <strong>94%</strong></td>
          </tr>
          <tr>
            <td>k = 10</td>
            <td>[Œº - 10œÉ, Œº + 10œÉ]</td>
            <td>‚â• 1 - 1/100 = <strong>99%</strong></td>
          </tr>
        </table>
      </div>

      <div class="exemple">
        <h3>Exemple 1 : Temps d'attente</h3>
        <p>
          <strong>√ânonc√© :</strong> Le temps d'attente X (en minutes) √† un
          guichet a pour esp√©rance E(X) = 10 min et √©cart-type œÉ(X) = 2 min.
        </p>
        <p>
          <strong>Question :</strong> Quelle est la probabilit√© que le temps
          d'attente soit entre 6 et 14 minutes ?
        </p>
        <p><strong>Solution :</strong></p>
        <p>L'intervalle [6, 14] = [10 - 4, 10 + 4] = [Œº - 2œÉ, Œº + 2œÉ]</p>
        <p>Donc k = 2</p>
        <p>
          D'apr√®s Tchebychev : P(6 ‚â§ X ‚â§ 14) ‚â• 1 - 1/2¬≤ = 1 - 1/4 =
          <strong>0,75</strong>
        </p>
        <p style="color: #4caf50; font-weight: bold">
          ‚úì Au moins 75% des clients attendent entre 6 et 14 minutes
        </p>
      </div>

      <div class="exemple">
        <h3>Exemple 2 : Notes d'examen</h3>
        <p>
          <strong>√ânonc√© :</strong> Les notes X √† un examen ont pour moyenne Œº =
          12 et variance V(X) = 9 (donc œÉ = 3).
        </p>
        <p>
          <strong>Question :</strong> Majorer la probabilit√© qu'un √©l√®ve ait une
          note qui s'√©carte de plus de 6 points de la moyenne.
        </p>
        <p><strong>Solution :</strong></p>
        <p>On cherche P(|X - 12| ‚â• 6)</p>
        <p>
          Avec a = 6 : P(|X - 12| ‚â• 6) ‚â§ œÉ¬≤/a¬≤ = 9/36 = 1/4 =
          <strong>0,25</strong>
        </p>
        <p style="color: #f44336; font-weight: bold">
          ‚úì Au plus 25% des √©l√®ves ont une note < 6 ou > 18
        </p>
      </div>

      <div class="interactive-section">
        <h3>üéÆ Calculateur interactif de Tchebychev</h3>
        <div class="controls">
          <label>Œº (esp√©rance) :</label>
          <input type="number" id="tcheb-mu" value="100" step="1" />
          <label>œÉ (√©cart-type) :</label>
          <input
            type="number"
            id="tcheb-sigma"
            value="10"
            min="0.1"
            step="0.5"
          />
          <label>k (multiple de œÉ) :</label>
          <input type="number" id="tcheb-k" value="2" min="0.1" step="0.1" />
          <button onclick="updateTchebychev()">Calculer</button>
        </div>
        <div
          id="tcheb-result"
          style="
            padding: 20px;
            background: #f0f4ff;
            border-radius: 10px;
            margin-top: 15px;
          "
        ></div>
      </div>

      <div class="method-box">
        <h3>üí° Quand utiliser Tchebychev ?</h3>
        <p><strong>Avantages :</strong></p>
        <ul style="margin-left: 30px; margin-top: 10px">
          <li>
            ‚úì Fonctionne pour <strong>n'importe quelle loi</strong> (pas besoin
            de conna√Ætre la loi exacte)
          </li>
          <li>‚úì Suffit de conna√Ætre Œº et œÉ</li>
          <li>‚úì Donne une <strong>borne inf√©rieure</strong> garantie</li>
        </ul>
        <p style="margin-top: 15px"><strong>Inconv√©nients :</strong></p>
        <ul style="margin-left: 30px; margin-top: 10px">
          <li>
            ‚úó Donne une estimation <strong>pessimiste</strong> (la vraie
            probabilit√© est souvent meilleure)
          </li>
          <li>
            ‚úó Moins pr√©cis que les lois sp√©cifiques (normale, binomiale...)
          </li>
        </ul>
      </div>

      <div class="visualization-box">
        <h3 style="color: #667eea">
          üìà Comparaison : Tchebychev vs Loi Normale
        </h3>
        <p style="text-align: center">
          Pour une loi normale avec k = 2 (intervalle [Œº-2œÉ, Œº+2œÉ]) :
        </p>
        <div
          style="
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
          "
        >
          <div
            style="
              background: #fff9e6;
              padding: 20px;
              border-radius: 10px;
              text-align: center;
            "
          >
            <h4 style="color: #ff9800">In√©galit√© de Tchebychev</h4>
            <p
              style="
                font-size: 2em;
                font-weight: bold;
                color: #ff9800;
                margin: 15px 0;
              "
            >
              ‚â• 75%
            </p>
            <p style="color: #666">Garantie minimale</p>
          </div>
          <div
            style="
              background: #e8f5e9;
              padding: 20px;
              border-radius: 10px;
              text-align: center;
            "
          >
            <h4 style="color: #4caf50">Loi Normale r√©elle</h4>
            <p
              style="
                font-size: 2em;
                font-weight: bold;
                color: #4caf50;
                margin: 15px 0;
              "
            >
              ‚âà 95%
            </p>
            <p style="color: #666">Valeur exacte</p>
          </div>
        </div>
        <p style="text-align: center; color: #764ba2; font-weight: bold">
          Tchebychev est pessimiste mais universel !
        </p>
      </div>

      <div class="important">
        <h3>‚ö†Ô∏è Points cl√©s √† retenir</h3>
        <ul style="margin-left: 20px; margin-top: 10px">
          <li>
            ‚úì L'in√©galit√© donne une <strong>borne inf√©rieure</strong> : P ‚â• ...
          </li>
          <li>
            ‚úì Valable pour <strong>toute variable al√©atoire</strong> ayant Œº et
            œÉ
          </li>
          <li>
            ‚úì Plus on s'√©loigne de Œº (grand k), plus la probabilit√© est garantie
            proche de 1
          </li>
          <li>‚úì Formule avec k : P(|X-Œº| < kœÉ) ‚â• 1 - 1/k¬≤</li>
          <li>‚úì √Ä k=2 : au moins 75% dans [Œº-2œÉ, Œº+2œÉ]</li>
          <li>‚úì √Ä k=3 : au moins 89% dans [Œº-3œÉ, Œº+3œÉ]</li>
        </ul>
      </div>

      <h2>IX. √âchantillonnage et Intervalles</h2>

      <div class="definition">
        <h3>Fluctuation d'√©chantillonnage</h3>
        <p>
          Dans un √©chantillon de taille n, la
          <strong>fr√©quence observ√©e</strong> F fluctue autour de la
          <strong>proportion th√©orique</strong> p.
        </p>
        <p>
          Pour n assez grand, la variable al√©atoire F suit approximativement une
          loi normale :
        </p>
        <p style="text-align: center; font-size: 1.2em; margin: 10px 0">
          <strong>F ‚âà N(p, p(1-p)/n)</strong>
        </p>
      </div>

      <div class="formule">
        <h3>Intervalle de fluctuation au seuil de 95%</h3>
        <p>
          Si n ‚â• 30, np ‚â• 5 et n(1-p) ‚â• 5, alors la fr√©quence observ√©e F
          appartient √† l'intervalle :
        </p>
        <p
          style="
            text-align: center;
            font-size: 1.1em;
            background: #fff9e6;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
          "
        >
          <strong>I = [p - 1,96‚àö(p(1-p)/n) ; p + 1,96‚àö(p(1-p)/n)]</strong>
        </p>
        <p>avec une probabilit√© d'environ 95%</p>
      </div>

      <div class="interactive-section">
        <h3>üéÆ Calculateur d'intervalle de fluctuation</h3>
        <div class="controls">
          <label>n (taille √©chantillon) :</label>
          <input type="number" id="fluc-n" value="100" min="30" />
          <label>p (proportion) :</label>
          <input
            type="number"
            id="fluc-p"
            value="0.3"
            min="0"
            max="1"
            step="0.01"
          />
          <button onclick="updateFluctuation()">Calculer</button>
        </div>
        <div
          id="fluc-result"
          style="
            text-align: center;
            padding: 20px;
            background: #e8f5e9;
            border-radius: 5px;
            margin-top: 15px;
            font-size: 1.1em;
          "
        ></div>
      </div>

      <div class="formule">
        <h3>Intervalle de confiance au niveau 95%</h3>
        <p>
          Pour <strong>estimer</strong> une proportion p inconnue √† partir d'une
          fr√©quence f observ√©e sur un √©chantillon de taille n :
        </p>
        <p
          style="
            text-align: center;
            font-size: 1.1em;
            background: #e8f5e9;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
          "
        >
          <strong>I = [f - 1/‚àön ; f + 1/‚àön]</strong>
        </p>
        <p>
          La vraie proportion p a environ 95% de chances d'√™tre dans cet
          intervalle.
        </p>
      </div>

      <div class="exemple">
        <h3>Exemple : Sondage √©lectoral</h3>
        <p>
          <strong>Contexte :</strong> Dans un sondage de 1000 personnes, 520
          d√©clarent voter pour le candidat A.
        </p>
        <p>
          <strong>Question :</strong> Donner un intervalle de confiance √† 95%
          pour la proportion r√©elle.
        </p>
        <p><strong>Solution :</strong></p>
        <p>f = 520/1000 = 0,52</p>
        <p>1/‚àön = 1/‚àö1000 ‚âà 0,032</p>
        <p>
          I = [0,52 - 0,032 ; 0,52 + 0,032] = <strong>[0,488 ; 0,552]</strong>
        </p>
        <p>Soit environ <strong>[48,8% ; 55,2%]</strong></p>
      </div>

      <h2>IX. Exercices types et m√©thodes</h2>

      <div class="method-box">
        <h3>M√©thode 1 : Reconna√Ætre une loi binomiale</h3>
        <p><strong>Conditions √† v√©rifier :</strong></p>
        <ul style="margin-left: 30px; margin-top: 10px">
          <li>‚úì On r√©p√®te n fois une m√™me exp√©rience</li>
          <li>‚úì Chaque exp√©rience a 2 issues (succ√®s/√©chec)</li>
          <li>‚úì Les r√©p√©titions sont ind√©pendantes</li>
          <li>‚úì La probabilit√© de succ√®s p est constante</li>
        </ul>
        <p style="margin-top: 10px">
          <strong>‚Üí Alors X = nombre de succ√®s suit B(n, p)</strong>
        </p>
      </div>

      <div class="method-box">
        <h3>M√©thode 2 : Utiliser un arbre pond√©r√©</h3>
        <p><strong>√âtapes :</strong></p>
        <ol style="margin-left: 30px; margin-top: 10px">
          <li>Dessiner l'arbre avec toutes les branches</li>
          <li>Pond√©rer chaque branche avec sa probabilit√©</li>
          <li>Pour calculer P(A ‚à© B) : multiplier le long d'un chemin</li>
          <li>Pour calculer P(B) : additionner tous les chemins menant √† B</li>
        </ol>
      </div>

      <div class="method-box">
        <h3>M√©thode 3 : Test d'hypoth√®se</h3>
        <p><strong>Pour accepter ou rejeter une hypoth√®se sur p :</strong></p>
        <ol style="margin-left: 30px; margin-top: 10px">
          <li>Calculer l'intervalle de fluctuation I au seuil de 95%</li>
          <li>Calculer la fr√©quence observ√©e f dans l'√©chantillon</li>
          <li>Si f ‚àà I : on accepte l'hypoth√®se au seuil de 5%</li>
          <li>Si f ‚àâ I : on rejette l'hypoth√®se au seuil de 5%</li>
        </ol>
      </div>

      <div class="comparison-grid">
        <div class="chart-container">
          <h3 style="text-align: center; color: #667eea">
            Loi discr√®te vs continue
          </h3>
          <table class="tableau">
            <tr>
              <th>Loi discr√®te</th>
              <th>Loi continue</th>
            </tr>
            <tr>
              <td>Valeurs isol√©es</td>
              <td>Intervalle de valeurs</td>
            </tr>
            <tr>
              <td>P(X = k)</td>
              <td>P(a ‚â§ X ‚â§ b)</td>
            </tr>
            <tr>
              <td>Ex: Binomiale</td>
              <td>Ex: Normale</td>
            </tr>
            <tr>
              <td>Histogramme</td>
              <td>Courbe (densit√©)</td>
            </tr>
          </table>
        </div>

        <div class="chart-container">
          <h3 style="text-align: center; color: #667eea">
            Fluctuation vs Confiance
          </h3>
          <table class="tableau">
            <tr>
              <th>Fluctuation</th>
              <th>Confiance</th>
            </tr>
            <tr>
              <td>p connu</td>
              <td>p inconnu</td>
            </tr>
            <tr>
              <td>Estimer o√π sera f</td>
              <td>Estimer o√π est p</td>
            </tr>
            <tr>
              <td>Test d'hypoth√®se</td>
              <td>Estimation</td>
            </tr>
            <tr>
              <td>Formule avec p</td>
              <td>Formule avec f</td>
            </tr>
          </table>
        </div>
      </div>

      <div class="important">
        <h3>‚ö†Ô∏è Erreurs classiques √† √©viter</h3>
        <ul style="margin-left: 20px; margin-top: 10px">
          <li>‚ùå Confondre P(A|B) et P(B|A) - ce n'est pas la m√™me chose !</li>
          <li>‚ùå Utiliser la loi binomiale sans v√©rifier l'ind√©pendance</li>
          <li>‚ùå Oublier de v√©rifier les conditions d'approximation normale</li>
          <li>
            ‚ùå Confondre intervalle de fluctuation et intervalle de confiance
          </li>
          <li>‚ùå Utiliser p au lieu de f dans l'intervalle de confiance</li>
        </ul>
      </div>

      <div class="must-know" style="margin-top: 40px">
        <h4>üìö Formulaire √† conna√Ætre par c≈ìur</h4>
        <ul>
          <li>
            <strong>Binomiale :</strong> P(X=k) = C<sub>n</sub><sup>k</sup> √ó
            p<sup>k</sup> √ó (1-p)<sup>n-k</sup>, E(X)=np, V(X)=np(1-p)
          </li>
          <li>
            <strong>Standardisation :</strong> Si X~N(Œº,œÉ¬≤) alors Z=(X-Œº)/œÉ ~
            N(0,1)
          </li>
          <li>
            <strong>Probabilit√© conditionnelle :</strong> P(A|B) = P(A‚à©B) / P(B)
          </li>
          <li>
            <strong>Probabilit√©s totales :</strong> P(B) = P(A)√óP<sub>A</sub>(B)
            + P(ƒÄ)√óP<sub>ƒÄ</sub>(B)
          </li>
          <li>
            <strong>Bayes :</strong> P<sub>B</sub>(A) = [P(A)√óP<sub>A</sub>(B)]
            / P(B)
          </li>
          <li>
            <strong>Fluctuation 95% :</strong> [p - 1,96‚àö(p(1-p)/n) ; p +
            1,96‚àö(p(1-p)/n)]
          </li>
          <li><strong>Confiance 95% :</strong> [f - 1/‚àön ; f + 1/‚àön]</li>
        </ul>
      </div>
    </div>

    <script>
      // Configuration globale
      Chart.defaults.font.size = 12;
      Chart.defaults.font.family =
        "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif";

      // Fonction factorielle
      function factorial(n) {
        if (n <= 1) return 1;
        return n * factorial(n - 1);
      }

      // Coefficient binomial
      function binomial(n, k) {
        if (k < 0 || k > n) return 0;
        return factorial(n) / (factorial(k) * factorial(n - k));
      }

      // Loi binomiale
      let binomialChart;
      function updateBinomial() {
        const n = parseInt(document.getElementById("binom-n").value);
        const p = parseFloat(document.getElementById("binom-p").value);

        const data = [];
        const labels = [];

        for (let k = 0; k <= n; k++) {
          labels.push(k);
          const prob = binomial(n, k) * Math.pow(p, k) * Math.pow(1 - p, n - k);
          data.push(prob);
        }

        if (binomialChart) binomialChart.destroy();

        const ctx = document.getElementById("binomialChart").getContext("2d");
        binomialChart = new Chart(ctx, {
          type: "bar",
          data: {
            labels: labels,
            datasets: [
              {
                label: "P(X = k)",
                data: data,
                backgroundColor: "#667eea",
                borderColor: "#333",
                borderWidth: 1,
              },
            ],
          },
          options: {
            responsive: true,
            plugins: {
              legend: { display: true },
              title: {
                display: true,
                text: `Loi Binomiale B(${n}, ${p})`,
                font: { size: 16, weight: "bold" },
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                title: { display: true, text: "Probabilit√©" },
              },
              x: {
                title: { display: true, text: "k (nombre de succ√®s)" },
              },
            },
          },
        });

        const esperance = n * p;
        const variance = n * p * (1 - p);
        const ecartType = Math.sqrt(variance);

        document.getElementById(
          "binomial-info"
        ).innerHTML = `E(X) = ${esperance.toFixed(
          2
        )} | V(X) = ${variance.toFixed(2)} | œÉ(X) = ${ecartType.toFixed(2)}`;
      }

      // Loi normale
      let normalChart;
      function normalPDF(x, mu, sigma) {
        return (
          (1 / (sigma * Math.sqrt(2 * Math.PI))) *
          Math.exp(-0.5 * Math.pow((x - mu) / sigma, 2))
        );
      }

      function updateNormal() {
        const mu = parseFloat(document.getElementById("normal-mu").value);
        const sigma = parseFloat(document.getElementById("normal-sigma").value);

        const data = [];
        const labels = [];
        const start = mu - 4 * sigma;
        const end = mu + 4 * sigma;
        const step = (end - start) / 100;

        for (let x = start; x <= end; x += step) {
          labels.push(x.toFixed(2));
          data.push(normalPDF(x, mu, sigma));
        }

        if (normalChart) normalChart.destroy();

        const ctx = document.getElementById("normalChart").getContext("2d");
        normalChart = new Chart(ctx, {
          type: "line",
          data: {
            labels: labels,
            datasets: [
              {
                label: "Densit√© de probabilit√©",
                data: data,
                borderColor: "#764ba2",
                backgroundColor: "rgba(118, 75, 162, 0.1)",
                borderWidth: 3,
                pointRadius: 0,
                tension: 0.4,
                fill: true,
              },
            ],
          },
          options: {
            responsive: true,
            plugins: {
              legend: { display: true },
              title: {
                display: true,
                text: `Loi Normale N(${mu}, ${sigma}¬≤)`,
                font: { size: 16, weight: "bold" },
              },
            },
            scales: {
              y: { beginAtZero: true },
              x: { display: false },
            },
          },
        });
      }

      // Approximation normale
      let approximationChart;
      function updateApproximation() {
        const n = parseInt(document.getElementById("approx-n").value);
        const p = parseFloat(document.getElementById("approx-p").value);

        const mu = n * p;
        const sigma = Math.sqrt(n * p * (1 - p));

        // Donn√©es binomiales
        const binomData = [];
        const normalData = [];
        const labels = [];

        for (let k = 0; k <= n; k++) {
          labels.push(k);
          binomData.push(
            binomial(n, k) * Math.pow(p, k) * Math.pow(1 - p, n - k)
          );
          normalData.push(normalPDF(k, mu, sigma));
        }

        if (approximationChart) approximationChart.destroy();

        const ctx = document
          .getElementById("approximationChart")
          .getContext("2d");
        approximationChart = new Chart(ctx, {
          type: "line",
          data: {
            labels: labels,
            datasets: [
              {
                label: "Loi Binomiale B(" + n + "," + p + ")",
                data: binomData,
                borderColor: "#667eea",
                backgroundColor: "rgba(102, 126, 234, 0.3)",
                type: "bar",
                borderWidth: 1,
              },
              {
                label:
                  "Approximation Normale N(" +
                  mu.toFixed(1) +
                  "," +
                  sigma.toFixed(1) +
                  "¬≤)",
                data: normalData,
                borderColor: "#f44336",
                backgroundColor: "rgba(244, 67, 54, 0.1)",
                borderWidth: 3,
                pointRadius: 0,
                tension: 0.4,
                fill: false,
              },
            ],
          },
          options: {
            responsive: true,
            plugins: {
              legend: { display: true },
              title: {
                display: true,
                text: "Approximation normale de la loi binomiale",
                font: { size: 16, weight: "bold" },
              },
            },
            scales: {
              y: { beginAtZero: true },
            },
          },
        });

        const conditions = [n >= 30, n * p >= 5, n * (1 - p) >= 5];
        const allConditions = conditions.every((c) => c);

        document.getElementById("approx-info").innerHTML =
          `Conditions : n=${n} ${n >= 30 ? "‚úì" : "‚úó"} | np=${(n * p).toFixed(
            1
          )} ${n * p >= 5 ? "‚úì" : "‚úó"} | n(1-p)=${(n * (1 - p)).toFixed(1)} ${
            n * (1 - p) >= 5 ? "‚úì" : "‚úó"
          }<br>` +
          `${
            allConditions
              ? '<span style="color: #4caf50;">‚úì Approximation valide</span>'
              : '<span style="color: #f44336;">‚úó Conditions non remplies</span>'
          }`;
      }

      // Intervalle de fluctuation
      function updateFluctuation() {
        const n = parseInt(document.getElementById("fluc-n").value);
        const p = parseFloat(document.getElementById("fluc-p").value);

        const marge = 1.96 * Math.sqrt((p * (1 - p)) / n);
        const min = p - marge;
        const max = p + marge;

        document.getElementById("fluc-result").innerHTML =
          `<strong>Intervalle de fluctuation √† 95% :</strong><br>` +
          `I = [${min.toFixed(4)} ; ${max.toFixed(4)}]<br>` +
          `soit environ [${(min * 100).toFixed(2)}% ; ${(max * 100).toFixed(
            2
          )}%]<br><br>` +
          `<span style="color: #666;">La fr√©quence observ√©e a 95% de chances d'√™tre dans cet intervalle</span>`;
      }

      // Calculateur Tchebychev
      function updateTchebychev() {
        const mu = parseFloat(document.getElementById("tcheb-mu").value);
        const sigma = parseFloat(document.getElementById("tcheb-sigma").value);
        const k = parseFloat(document.getElementById("tcheb-k").value);

        const a = k * sigma;
        const minBound = mu - a;
        const maxBound = mu + a;
        const probMin = 1 - 1 / (k * k);
        const probMax = 1 / (k * k);

        document.getElementById("tcheb-result").innerHTML = `
                <h4 style="color: #667eea; margin-bottom: 15px;">R√©sultats :</h4>
                <p style="font-size: 1.1em;"><strong>Intervalle :</strong> [${minBound.toFixed(
                  2
                )}, ${maxBound.toFixed(2)}] = [Œº - ${k}œÉ, Œº + ${k}œÉ]</p>
                <p style="font-size: 1.1em; margin-top: 10px;"><strong>Distance :</strong> a = ${k} √ó ${sigma} = ${a.toFixed(
          2
        )}</p>
                <div style="background: #e8f5e9; padding: 15px; border-radius: 5px; margin-top: 15px;">
                    <p style="font-size: 1.2em; color: #4caf50; font-weight: bold;">
                        P(${minBound.toFixed(2)} ‚â§ X ‚â§ ${maxBound.toFixed(
          2
        )}) ‚â• ${probMin.toFixed(4)}
                    </p>
                    <p style="color: #666; margin-top: 10px;">
                        soit au moins <strong>${(probMin * 100).toFixed(
                          2
                        )}%</strong>
                    </p>
                </div>
                <div style="background: #ffebee; padding: 15px; border-radius: 5px; margin-top: 10px;">
                    <p style="font-size: 1.2em; color: #f44336; font-weight: bold;">
                        P(|X - Œº| ‚â• ${a.toFixed(2)}) ‚â§ ${probMax.toFixed(4)}
                    </p>
                    <p style="color: #666; margin-top: 10px;">
                        soit au plus <strong>${(probMax * 100).toFixed(
                          2
                        )}%</strong> en dehors de l'intervalle
                    </p>
                </div>
            `;
      }

      // Initialisation
      window.onload = function () {
        updateBinomial();
        updateNormal();
        updateApproximation();
        updateFluctuation();
        updateTchebychev();
      };
    </script>
  </body>
</html>
